<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CFG Simulator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="./style.css">
</head>

<body class="gradient-bg min-h-screen flex items-center justify-center p-6">
    <div class="glassmorphism shadow-2xl rounded-2xl p-8 w-full max-w-3xl">
        <h2 class="text-4xl font-bold text-center text-white mb-8">CFG Simulator</h2>

        <!-- Start Symbol Input -->
        <div class="mb-6">
            <label class="block text-white font-medium mb-2">Start Symbol:</label>
            <input type="text" id="startSymbol" value="S"
                class="w-full p-3 bg-white/0 text-white placeholder-white/50 border-2 border-white/20 rounded-lg focus:outline-none focus:border-white/50 transition"
                onchange="updateStartSymbol()" />
        </div>

        <!-- Production Input -->
        <div class="mb-6">
            <label class="block text-white font-medium mb-2">
                Productions (One per line, e.g., S → aSb | ε):
            </label>
            <textarea id="productions" placeholder="Enter productions, one per line:
S → aSb | ε
A → aA | b" class="w-full p-3 bg-white/0 text-white placeholder-white/50 border-2 border-white/20 rounded-lg focus:outline-none focus:border-white/50 transition"
                rows="5"></textarea>
            <div class="flex space-x-4 mt-4">
                <button onclick="addProduction()"
                    class="flex-1 bg-violet-600 text-white py-3 rounded-lg hover:bg-violet-700 transition">
                    Add Productions
                </button>
                <button onclick="resetCFG()"
                    class="flex-1 bg-pink-600 text-white py-3 rounded-lg hover:bg-pink-700 transition">
                    Reset
                </button>
            </div>
        </div>

        <!-- Current CFG Display -->
        <div class="mb-6">
            <h3 class="text-2xl font-semibold text-white mb-4">Current CFG</h3>
            <textarea id="cfgDisplay" rows="5" readonly
                class="w-full p-3 bg-white/0 text-white border-2 border-white/20 rounded-lg focus:outline-none focus:border-white/50 transition"></textarea>
        </div>

        <!-- Test String Input -->
        <div class="mb-6">
            <label class="block text-white font-medium mb-2">Enter Test String:</label>
            <input type="text" id="testString" placeholder="Enter string to test..."
                class="w-full p-3 bg-white/0 text-white placeholder-white/50 border-2 border-white/20 rounded-lg focus:outline-none focus:border-white/50 transition" />
            <button onclick="testString()"
                class="w-full bg-violet-600 text-white py-3 rounded-lg mt-4 hover:bg-violet-700 transition">
                Test String
            </button>
        </div>

        <!-- Test Results -->
        <div>
            <h3 class="text-2xl font-semibold text-white mb-4">Test Results</h3>
            <table class="w-full border-collapse">
                <thead>
                    <tr class="bg-white/0 text-white">
                        <th class="border-2 border-white/20 p-3">String</th>
                        <th class="border-2 border-white/20 p-3">Matches</th>
                        <th class="border-2 border-white/20 p-3">Derivation</th>
                    </tr>
                </thead>
                <tbody id="resultTable"></tbody>
            </table>
        </div>
    </div>

    <script src="./script.js"></script>
</body>

</html>
